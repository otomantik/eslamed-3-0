{
  "project": {
    "name": "ESLAMED 3.0",
    "description": "Evde Medikal Ekipman ve Süreç Yönlendirme Merkezi - Medical Equipment Rental & Sales Platform",
    "version": "0.1.0",
    "domain": "www.eslamed.com",
    "business_entity": "ESLAMED MEDİKAL - SALİH CEVHEROĞLU",
    "industry": "Medical Equipment / Healthcare Technology",
    "target_market": "Turkey (İstanbul-focused)",
    "compliance": ["KVKK", "GDPR", "EHDS", "T.C. Sağlık Bakanlığı"]
  },
  "architecture": {
    "type": "Monorepo",
    "structure": "Apps-based (Next.js App Router)",
    "deployment": "Docker-based containerized deployment",
    "server_rendering": "Next.js SSR/SSG with App Router",
    "build_output": "standalone",
    "reverse_proxy": "Nginx"
  },
  "core_technologies": {
    "framework": {
      "name": "Next.js",
      "version": "16.1.1",
      "features": [
        "App Router",
        "Server Components",
        "Server Actions",
        "Static Generation (SSG)",
        "Server-Side Rendering (SSR)",
        "Image Optimization",
        "Standalone Output"
      ]
    },
    "runtime": {
      "name": "Node.js",
      "version": "20-alpine (Docker)",
      "environment": "production"
    },
    "ui_library": {
      "name": "React",
      "version": "19.2.3",
      "features": [
        "Server Components",
        "Client Components",
        "Suspense",
        "Error Boundaries"
      ]
    },
    "language": {
      "name": "TypeScript",
      "version": "^5",
      "target": "ES2022",
      "strict_mode": true,
      "module_system": "ESNext"
    }
  },
  "styling_and_ui": {
    "css_framework": {
      "name": "Tailwind CSS",
      "version": "^4",
      "postcss": "@tailwindcss/postcss ^4",
      "features": [
        "Utility-first CSS",
        "Responsive Design",
        "Dark Mode Support",
        "Custom Theme Configuration"
      ]
    },
    "ui_components": {
      "icon_library": {
        "name": "Lucide React",
        "version": "^0.562.0",
        "optimization": "optimizePackageImports enabled"
      },
      "animation": {
        "name": "Framer Motion",
        "version": "^12.23.26",
        "usage": "Page transitions, micro-interactions"
      }
    },
    "fonts": {
      "display": "Plus Jakarta Sans (Google Fonts)",
      "body": "Inter (Google Fonts)",
      "premium": "Playfair Display (Google Fonts)"
    }
  },
  "data_management": {
    "search_engine": {
      "name": "Fuse.js",
      "version": "^7.1.0",
      "purpose": "Client-side fuzzy search for equipment catalog"
    },
    "virtualization": {
      "name": "@tanstack/react-virtual",
      "version": "^3.13.14",
      "purpose": "Virtual scrolling for large equipment lists"
    },
    "state_management": {
      "client_state": "React Context API",
      "server_state": "Next.js Server Components",
      "url_state": "Next.js searchParams"
    },
    "storage": {
      "client": "sessionStorage, localStorage",
      "server": "ClickHouse (via Go backend)",
      "static_data": "JSON files (search-index.json)"
    }
  },
  "api_endpoints": {
    "internal_nextjs_api": [
      {
        "route": "/api/demand_logs",
        "method": "POST",
        "purpose": "User intent and demand tracking"
      },
      {
        "route": "/api/integrity/uts-verification",
        "method": "GET",
        "purpose": "UTS (Product Tracking System) registration verification",
        "compliance": "2027 ADSMantik Integrity Score"
      },
      {
        "route": "/api/integrity/export-data",
        "method": "GET",
        "purpose": "EHDS-compliant patient data export (JSON/PDF)",
        "compliance": ["EHDS", "KVKK", "GDPR"]
      },
      {
        "route": "/api/integrity/service-tracking",
        "method": "GET",
        "purpose": "Live technician GPS tracking for service requests"
      },
      {
        "route": "/api/field-service/handover",
        "method": "POST",
        "purpose": "Digital handover form submission with signature capture"
      }
    ],
    "external_integrations": {
      "backend_api": {
        "url": "${NEXT_PUBLIC_API_URL}",
        "language": "Go",
        "port": 8080,
        "database": "ClickHouse",
        "purpose": "High-performance analytics ingestion"
      }
    }
  },
  "middleware": {
    "proxy": {
      "file": "apps/web/proxy.ts",
      "purpose": "Request routing and redirects",
      "features": [
        "Non-www to www redirect (301)",
        "HTTP to HTTPS redirect (301)",
        "IP/localhost access allowance",
        "Static file exclusion"
      ],
      "matcher_pattern": "/((?!api|_next/static|_next/image|favicon.ico|.*\\.(?:svg|png|jpg|jpeg|gif|webp|ico|woff|woff2|ttf|eot|pdf|json|txt|xml)).*)"
    },
    "intent_detection": {
      "file": "apps/web/lib/intent/detector.ts",
      "purpose": "Multi-dimensional user intent analysis",
      "modes": [
        "CRITICAL_EMERGENCY",
        "TRUST_SEEKER",
        "PRICE_SENSITIVE",
        "COMMERCIAL_RENTAL",
        "INFORMATION_SEEKER"
      ],
      "signals_analyzed": [
        "URL parameters",
        "Query strings",
        "User agent",
        "Referer headers",
        "Temporal patterns (time of day)",
        "Semantic keywords",
        "GCLID (Google Ads)"
      ]
    }
  },
  "modules_and_components": {
    "layout": [
      "ModeAwareNavbar",
      "MinimalistNavbar",
      "Footer",
      "BottomNav",
      "GlobalAlertBar"
    ],
    "catalog": [
      "CatalogExplorer",
      "VirtualizedCatalog",
      "CategoryIcon3D",
      "ResultSnippet",
      "EmptyState",
      "GhostCard",
      "Skeleton"
    ],
    "integrity_system": [
      "ExpertVerificationPanel",
      "IntegrityBadge",
      "PatientDataPortal",
      "LiveServiceTracking"
    ],
    "field_service": [
      "FieldServiceInterface",
      "ExpertDeliveryProtocol",
      "QRCodeGenerator",
      "DigitalHandoverForm"
    ],
    "infographics": [
      "MedicalBedIllustration",
      "WheelchairIllustration",
      "RespiratoryDeviceIllustration",
      "FlowInfographic",
      "ProcessTracker",
      "IconStrip",
      "ComingSoonCard"
    ],
    "rehber": [
      "QuickActionCard",
      "RespiratoryChecklist",
      "MedicalGlossary"
    ],
    "sections": [
      "DynamicHero",
      "ProductShowcase",
      "ServiceMatrix",
      "ServiceValueGrid",
      "WallOfTrust",
      "SmartFAQ",
      "HyperLocalMap",
      "TrustSafetyBridge",
      "BrandTrustTicker",
      "EmergencySteps",
      "PriceTable",
      "GuideCategories",
      "RentalProcess",
      "InteractiveStats"
    ],
    "search": [
      "SearchModal",
      "HelpCard"
    ],
    "forms": [
      "FeedbackForm"
    ],
    "analytics": [
      "Tracker"
    ]
  },
  "routing": {
    "total_routes": 18,
    "static_routes": [
      "/",
      "/hizmetler",
      "/ekipmanlar",
      "/istanbul",
      "/iletisim",
      "/destek",
      "/isletme-belgeleri",
      "/kvkk",
      "/gizlilik",
      "/veri-portali",
      "/field-service",
      "/tabanlik"
    ],
    "dynamic_routes": [
      "/hizmetler/*",
      "/rehber/*",
      "/[...slug]"
    ],
    "api_routes": [
      "/api/demand_logs",
      "/api/integrity/*",
      "/api/field-service/*"
    ],
    "redirects": [
      "/servis → /hizmetler/teknik-servis (301)",
      "/dolum → /hizmetler/oksijen-dolum (301)",
      "/kiralama → /hizmetler/cihaz-kiralama (301)",
      "/satis → /hizmetler/cihaz-satisi (301)",
      "/alim → /hizmetler/ikinci-el-alim (301)",
      "/oksijen-cozumleri → /rehber/solunum-sistemleri (301)",
      "/evde-bakim → /rehber/evde-bakim-ekipmanlari (301)",
      "/urunler → /ekipmanlar (301)"
    ]
  },
  "seo_and_metadata": {
    "schema_types": [
      "MedicalBusiness",
      "LocalBusiness",
      "HowTo",
      "FAQPage",
      "Article",
      "SpeakableSpecification",
      "Review",
      "AggregateRating",
      "EducationalOccupationalCredential"
    ],
    "metadata_features": [
      "Dynamic OpenGraph images",
      "Twitter cards",
      "Canonical URLs",
      "Sitemap generation",
      "Robots.txt",
      "Web manifest (PWA)"
    ],
    "structured_data_locations": [
      "app/layout.tsx (MedicalBusiness)",
      "app/isletme-belgeleri/page.tsx (LocalBusiness + Credentials)",
      "app/iletisim/page.tsx (LocalBusiness)",
      "app/rehber/*/page.tsx (HowTo, FAQPage, Article)",
      "components/sections/smart-faq.tsx (FAQPage)",
      "components/sections/testimonials.tsx (Review)",
      "lib/seo/generate-catalog-schema.ts (Product catalog schemas)"
    ]
  },
  "business_logic": {
    "intent_detection": {
      "engine": "Multi-dimensional scoring system",
      "factors": [
        "Semantic keyword matching",
        "Temporal analysis (time of day)",
        "Referer source analysis",
        "Query parameter analysis",
        "User agent patterns",
        "URL structure"
      ],
      "output_modes": 5,
      "confidence_scoring": true
    },
    "reality_anchors": {
      "file": ".cursorrules",
      "purpose": "Prevent AI hallucinations, ensure data consistency",
      "anchored_data": [
        "Business entity name",
        "Manager information",
        "Registration numbers (UTS, ÇKYS, Tax)",
        "Official address",
        "Expert credentials",
        "Last review dates"
      ]
    },
    "integrity_system": {
      "name": "2027 ADSMantik Integrity Score",
      "features": [
        "UTS verification badges",
        "Expert verification panels",
        "EHDS-compliant data export",
        "Live service tracking",
        "GMP compliance tracking",
        "Calibration date tracking"
      ]
    }
  },
  "deployment": {
    "containerization": {
      "tool": "Docker",
      "base_image": "node:20-alpine",
      "build_stages": ["deps", "builder", "runner"],
      "output": "standalone",
      "port": 3000,
      "user": "nextjs (non-root)"
    },
    "orchestration": {
      "tool": "Docker Compose",
      "file": "docker-compose.production.yml",
      "services": [
        {
          "name": "frontend",
          "type": "Next.js application",
          "port": "3000 (internal)",
          "healthcheck": true
        },
        {
          "name": "backend",
          "type": "Go API server",
          "port": "8080 (internal)",
          "database": "ClickHouse"
        },
        {
          "name": "clickhouse",
          "type": "Analytics database",
          "ports": ["8123 (HTTP)", "9000 (Native)"]
        },
        {
          "name": "grafana",
          "type": "Visualization dashboard",
          "port": "3003 (internal)",
          "optional": true
        }
      ]
    },
    "reverse_proxy": {
      "tool": "Nginx",
      "config_file": "nginx.conf.production",
      "features": [
        "SSL/TLS termination (Let's Encrypt)",
        "HTTP to HTTPS redirect",
        "Gzip compression",
        "Security headers",
        "Static file serving",
        "Proxy pass to Docker container"
      ],
      "ssl_protocols": ["TLSv1.2", "TLSv1.3"]
    },
    "environment_variables": {
      "frontend": [
        "NEXT_PUBLIC_API_URL",
        "NEXT_PUBLIC_SITE_URL",
        "NODE_ENV"
      ],
      "backend": [
        "CLICKHOUSE_ADDR",
        "CLICKHOUSE_DB",
        "CLICKHOUSE_USER",
        "CLICKHOUSE_PASSWORD",
        "CLICKHOUSE_PHONE_SECRET",
        "CLIENT_URL",
        "OPENAI_API_KEY",
        "DEEPSEEK_API_KEY",
        "GEMINI_API_KEY",
        "TELEGRAM_BOT_TOKEN",
        "TELEGRAM_SALIH_CHAT_ID",
        "SLACK_WEBHOOK_URL"
      ]
    }
  },
  "development_tools": {
    "linter": {
      "name": "ESLint",
      "version": "^9",
      "config": "eslint-config-next 16.1.1"
    },
    "type_checking": "TypeScript strict mode",
    "package_manager": "npm",
    "build_tool": "Next.js built-in"
  },
  "performance_optimizations": {
    "image_optimization": {
      "tool": "Next.js Image component",
      "formats": ["WebP", "AVIF"],
      "qualities": [100, 75],
      "lazy_loading": true
    },
    "code_splitting": "Automatic (Next.js)",
    "tree_shaking": "Enabled",
    "package_optimization": [
      "optimizePackageImports: ['lucide-react']"
    ],
    "static_generation": "SSG for guide pages",
    "virtualization": "TanStack Virtual for large lists"
  },
  "security": {
    "headers": [
      "Strict-Transport-Security",
      "X-Frame-Options",
      "X-Content-Type-Options",
      "X-XSS-Protection",
      "Referrer-Policy"
    ],
    "data_protection": [
      "KVKK compliance",
      "GDPR compliance",
      "EHDS compliance",
      "Phone number encryption (ClickHouse)"
    ],
    "authentication": "None (public website)",
    "authorization": "None (public website)",
    "rate_limiting": "Nginx level (if configured)"
  },
  "monitoring_and_analytics": {
    "client_side": "Custom Tracker component",
    "server_side": "ClickHouse + Go backend",
    "visualization": "Grafana (optional)",
    "telemetry": "Next.js telemetry disabled"
  },
  "accessibility": {
    "aria_labels": "Implemented",
    "keyboard_navigation": "Supported",
    "screen_reader": "Tested",
    "focus_management": "Focus trap components",
    "semantic_html": "Used throughout"
  },
  "internationalization": {
    "primary_language": "Turkish (tr-TR)",
    "locale_handling": "Manual",
    "date_formatting": "Turkish locale (date-fns)"
  },
  "pwa_features": {
    "manifest": "apps/web/app/manifest.ts",
    "apple_icons": "apps/web/app/apple-icon.tsx",
    "offline_support": "Limited (static assets)"
  },
  "file_structure": {
    "app_directory": "apps/web/app",
    "components_directory": "apps/web/components",
    "lib_directory": "apps/web/lib",
    "public_directory": "apps/web/public",
    "context_directory": "apps/web/context",
    "data_directory": "apps/web/data"
  },
  "key_files": {
    "configuration": [
      "next.config.ts",
      "tsconfig.json",
      "package.json",
      "Dockerfile",
      "docker-compose.production.yml",
      "nginx.conf.production",
      "proxy.ts"
    ],
    "business_rules": [
      ".cursorrules",
      "apps/web/lib/integrity/eslamed-experts.ts",
      "apps/web/lib/intent/detector.ts"
    ],
    "static_data": [
      "apps/web/public/search-index.json",
      "apps/web/data/testimonials.ts"
    ]
  },
  "compliance_certifications": {
    "uts_firm_number": "26672691179647",
    "ckys_registration": "5120489",
    "tax_id": "2070554381",
    "tax_office": "Sarıgazi Vergi Dairesi",
    "business_license": "84 (issued 17-03-2025)",
    "expert_license": "TC: 10904197720 (Salih Cevheroğlu)"
  },
  "recent_updates": {
    "date": "2026-01-03",
    "features_added": [
      "ADSMantık Reality Anchors system",
      "Expert Verification Panel rollout",
      "EHDS-compliant data export portal",
      "Live service tracking",
      "UTS verification badges",
      "Mobile responsive optimizations",
      "Path normalization fixes"
    ]
  }
}

